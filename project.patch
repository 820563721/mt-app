Index: server/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- server/index.js	(revision 491af66478a859523891ea57dead7cebe29ac166)
+++ server/index.js	(date 1570159781000)
@@ -58,7 +58,7 @@
   } else {
     await nuxt.ready()
   }
-  app.use(users.routes()).use(user.allowedMethods())
+  app.use(users.routes()).use(users.allowedMethods())
   app.use((ctx) => {
     ctx.status = 200
     ctx.respond = false // Bypass Koa's built-in response handling
Index: package-lock.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- package-lock.json	(revision 491af66478a859523891ea57dead7cebe29ac166)
+++ package-lock.json	(date 1570159690000)
@@ -2986,7 +2986,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-builder-binary-assignment-operator-visitor/download/babel-helper-builder-binary-assignment-operator-visitor-6.24.1.tgz",
       "integrity": "sha1-zORReto1b0IgvK6KAsKzRvmlZmQ=",
-      "dev": true,
       "requires": {
         "babel-helper-explode-assignable-expression": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -2997,7 +2996,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-call-delegate/download/babel-helper-call-delegate-6.24.1.tgz",
       "integrity": "sha1-7Oaqzdx25Bw0YfiL/Fdb0Nqi340=",
-      "dev": true,
       "requires": {
         "babel-helper-hoist-variables": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3009,7 +3007,6 @@
       "version": "6.26.0",
       "resolved": "http://r.cnpmjs.org/babel-helper-define-map/download/babel-helper-define-map-6.26.0.tgz",
       "integrity": "sha1-pfVtq0GiX5fstJjH66ypgZ+Vvl8=",
-      "dev": true,
       "requires": {
         "babel-helper-function-name": "^6.24.1",
         "babel-runtime": "^6.26.0",
@@ -3021,7 +3018,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-explode-assignable-expression/download/babel-helper-explode-assignable-expression-6.24.1.tgz",
       "integrity": "sha1-8luCz33BBDPFX3BZLVdGQArCLKo=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-traverse": "^6.24.1",
@@ -3032,7 +3028,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-function-name/download/babel-helper-function-name-6.24.1.tgz",
       "integrity": "sha1-00dbjAPtmCQqJbSDUasYOZ01gKk=",
-      "dev": true,
       "requires": {
         "babel-helper-get-function-arity": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3045,7 +3040,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-get-function-arity/download/babel-helper-get-function-arity-6.24.1.tgz",
       "integrity": "sha1-j3eCqpNAfEHTqlCQj4mwMbG2hT0=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3055,7 +3049,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-hoist-variables/download/babel-helper-hoist-variables-6.24.1.tgz",
       "integrity": "sha1-HssnaJydJVE+rbyZFKc/VAi+enY=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3065,7 +3058,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-optimise-call-expression/download/babel-helper-optimise-call-expression-6.24.1.tgz",
       "integrity": "sha1-96E0J7qfc/j0+pk8VKl4gtEkQlc=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3075,7 +3067,6 @@
       "version": "6.26.0",
       "resolved": "http://r.cnpmjs.org/babel-helper-regex/download/babel-helper-regex-6.26.0.tgz",
       "integrity": "sha1-MlxZ+QL4LyS3T6zu0DY5VPZJXnI=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.26.0",
         "babel-types": "^6.26.0",
@@ -3086,7 +3077,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-remap-async-to-generator/download/babel-helper-remap-async-to-generator-6.24.1.tgz",
       "integrity": "sha1-XsWBgnrXI/7N04HxySg5BnbkVRs=",
-      "dev": true,
       "requires": {
         "babel-helper-function-name": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3099,7 +3089,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-helper-replace-supers/download/babel-helper-replace-supers-6.24.1.tgz",
       "integrity": "sha1-v22/5Dk40XNpohPKiov3S2qQqxo=",
-      "dev": true,
       "requires": {
         "babel-helper-optimise-call-expression": "^6.24.1",
         "babel-messages": "^6.23.0",
@@ -3147,7 +3136,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-check-es2015-constants/download/babel-plugin-check-es2015-constants-6.22.0.tgz",
       "integrity": "sha1-NRV7EBQm/S/9PaP3XH0ekYNbv4o=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3163,26 +3151,22 @@
     "babel-plugin-syntax-async-functions": {
       "version": "6.13.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-syntax-async-functions/download/babel-plugin-syntax-async-functions-6.13.0.tgz",
-      "integrity": "sha1-ytnK0RkbWtY0vzCuCHI5HgZHvpU=",
-      "dev": true
+      "integrity": "sha1-ytnK0RkbWtY0vzCuCHI5HgZHvpU="
     },
     "babel-plugin-syntax-exponentiation-operator": {
       "version": "6.13.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-syntax-exponentiation-operator/download/babel-plugin-syntax-exponentiation-operator-6.13.0.tgz",
-      "integrity": "sha1-nufoM3KQ2pUoggGmpX9BcDF4MN4=",
-      "dev": true
+      "integrity": "sha1-nufoM3KQ2pUoggGmpX9BcDF4MN4="
     },
     "babel-plugin-syntax-trailing-function-commas": {
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-syntax-trailing-function-commas/download/babel-plugin-syntax-trailing-function-commas-6.22.0.tgz",
-      "integrity": "sha1-ugNgk3+NBuQBgKQ/4NVhb/9TLPM=",
-      "dev": true
+      "integrity": "sha1-ugNgk3+NBuQBgKQ/4NVhb/9TLPM="
     },
     "babel-plugin-transform-async-to-generator": {
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-async-to-generator/download/babel-plugin-transform-async-to-generator-6.24.1.tgz",
       "integrity": "sha1-ZTbjeK/2yx1VF6wOQOs+n8jQh2E=",
-      "dev": true,
       "requires": {
         "babel-helper-remap-async-to-generator": "^6.24.1",
         "babel-plugin-syntax-async-functions": "^6.8.0",
@@ -3193,7 +3177,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-arrow-functions/download/babel-plugin-transform-es2015-arrow-functions-6.22.0.tgz",
       "integrity": "sha1-RSaSy3EdX3ncf4XkQM5BufJE0iE=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3202,7 +3185,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-block-scoped-functions/download/babel-plugin-transform-es2015-block-scoped-functions-6.22.0.tgz",
       "integrity": "sha1-u8UbSflk1wy42OC5ToICRs46YUE=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3211,7 +3193,6 @@
       "version": "6.26.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-block-scoping/download/babel-plugin-transform-es2015-block-scoping-6.26.0.tgz",
       "integrity": "sha1-1w9SmcEwjQXBL0Y4E7CgnnOxiV8=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.26.0",
         "babel-template": "^6.26.0",
@@ -3224,7 +3205,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-classes/download/babel-plugin-transform-es2015-classes-6.24.1.tgz",
       "integrity": "sha1-WkxYpQyclGHlZLSyo7+ryXolhNs=",
-      "dev": true,
       "requires": {
         "babel-helper-define-map": "^6.24.1",
         "babel-helper-function-name": "^6.24.1",
@@ -3241,7 +3221,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-computed-properties/download/babel-plugin-transform-es2015-computed-properties-6.24.1.tgz",
       "integrity": "sha1-b+Ko0WiV1WNPTNmZttNICjCBWbM=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-template": "^6.24.1"
@@ -3251,7 +3230,6 @@
       "version": "6.23.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-destructuring/download/babel-plugin-transform-es2015-destructuring-6.23.0.tgz",
       "integrity": "sha1-mXux8auWf2gtKwh2/jWNYOdlxW0=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3260,7 +3238,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-duplicate-keys/download/babel-plugin-transform-es2015-duplicate-keys-6.24.1.tgz",
       "integrity": "sha1-c+s9MQypaePvnskcU3QabxV2Qj4=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3270,7 +3247,6 @@
       "version": "6.23.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-for-of/download/babel-plugin-transform-es2015-for-of-6.23.0.tgz",
       "integrity": "sha1-9HyVsrYT3x0+zC/bdXNiPHUkhpE=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3279,7 +3255,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-function-name/download/babel-plugin-transform-es2015-function-name-6.24.1.tgz",
       "integrity": "sha1-g0yJhTvDaxrw86TF26qU/Y6sqos=",
-      "dev": true,
       "requires": {
         "babel-helper-function-name": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3290,7 +3265,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-literals/download/babel-plugin-transform-es2015-literals-6.22.0.tgz",
       "integrity": "sha1-T1SgLWzWbPkVKAAZox0xklN3yi4=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3299,7 +3273,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-modules-amd/download/babel-plugin-transform-es2015-modules-amd-6.24.1.tgz",
       "integrity": "sha1-Oz5UAXI5hC1tGcMBHEvS8AoA0VQ=",
-      "dev": true,
       "requires": {
         "babel-plugin-transform-es2015-modules-commonjs": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3310,7 +3283,6 @@
       "version": "6.26.2",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-modules-commonjs/download/babel-plugin-transform-es2015-modules-commonjs-6.26.2.tgz",
       "integrity": "sha1-WKeThjqefKhwvcWogRF/+sJ9tvM=",
-      "dev": true,
       "requires": {
         "babel-plugin-transform-strict-mode": "^6.24.1",
         "babel-runtime": "^6.26.0",
@@ -3322,7 +3294,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-modules-systemjs/download/babel-plugin-transform-es2015-modules-systemjs-6.24.1.tgz",
       "integrity": "sha1-/4mhQrkRmpBhlfXxBuzzBdlAfSM=",
-      "dev": true,
       "requires": {
         "babel-helper-hoist-variables": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3333,7 +3304,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-modules-umd/download/babel-plugin-transform-es2015-modules-umd-6.24.1.tgz",
       "integrity": "sha1-rJl+YoXNGO1hdq22B9YCNErThGg=",
-      "dev": true,
       "requires": {
         "babel-plugin-transform-es2015-modules-amd": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3344,7 +3314,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-object-super/download/babel-plugin-transform-es2015-object-super-6.24.1.tgz",
       "integrity": "sha1-JM72muIcuDp/hgPa0CH1cusnj40=",
-      "dev": true,
       "requires": {
         "babel-helper-replace-supers": "^6.24.1",
         "babel-runtime": "^6.22.0"
@@ -3354,7 +3323,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-parameters/download/babel-plugin-transform-es2015-parameters-6.24.1.tgz",
       "integrity": "sha1-V6w1GrScrxSpfNE7CfZv3wpiXys=",
-      "dev": true,
       "requires": {
         "babel-helper-call-delegate": "^6.24.1",
         "babel-helper-get-function-arity": "^6.24.1",
@@ -3368,7 +3336,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-shorthand-properties/download/babel-plugin-transform-es2015-shorthand-properties-6.24.1.tgz",
       "integrity": "sha1-JPh11nIch2YbvZmkYi5R8U3jiqA=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3378,7 +3345,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-spread/download/babel-plugin-transform-es2015-spread-6.22.0.tgz",
       "integrity": "sha1-1taKmfia7cRTbIGlQujdnxdG+NE=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3387,7 +3353,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-sticky-regex/download/babel-plugin-transform-es2015-sticky-regex-6.24.1.tgz",
       "integrity": "sha1-AMHNsaynERLN8M9hJsLta0V8zbw=",
-      "dev": true,
       "requires": {
         "babel-helper-regex": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3398,7 +3363,6 @@
       "version": "6.22.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-template-literals/download/babel-plugin-transform-es2015-template-literals-6.22.0.tgz",
       "integrity": "sha1-qEs0UPfp+PH2g51taH2oS7EjbY0=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3407,7 +3371,6 @@
       "version": "6.23.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-typeof-symbol/download/babel-plugin-transform-es2015-typeof-symbol-6.23.0.tgz",
       "integrity": "sha1-3sCfHN3/lLUqxz1QXITfWdzOs3I=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0"
       }
@@ -3416,7 +3379,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-es2015-unicode-regex/download/babel-plugin-transform-es2015-unicode-regex-6.24.1.tgz",
       "integrity": "sha1-04sS9C6nMj9yk4fxinxa4frrNek=",
-      "dev": true,
       "requires": {
         "babel-helper-regex": "^6.24.1",
         "babel-runtime": "^6.22.0",
@@ -3426,14 +3388,12 @@
         "jsesc": {
           "version": "0.5.0",
           "resolved": "http://r.cnpmjs.org/jsesc/download/jsesc-0.5.0.tgz",
-          "integrity": "sha1-597mbjXW/Bb3EP6R1c9p9w8IkR0=",
-          "dev": true
+          "integrity": "sha1-597mbjXW/Bb3EP6R1c9p9w8IkR0="
         },
         "regexpu-core": {
           "version": "2.0.0",
           "resolved": "http://r.cnpmjs.org/regexpu-core/download/regexpu-core-2.0.0.tgz",
           "integrity": "sha1-SdA4g3uNz4v6W5pCE5k45uoq4kA=",
-          "dev": true,
           "requires": {
             "regenerate": "^1.2.1",
             "regjsgen": "^0.2.0",
@@ -3443,14 +3403,12 @@
         "regjsgen": {
           "version": "0.2.0",
           "resolved": "http://r.cnpmjs.org/regjsgen/download/regjsgen-0.2.0.tgz",
-          "integrity": "sha1-bAFq3qxVT3WCP+N6wFuS1aTtsfc=",
-          "dev": true
+          "integrity": "sha1-bAFq3qxVT3WCP+N6wFuS1aTtsfc="
         },
         "regjsparser": {
           "version": "0.1.5",
           "resolved": "http://r.cnpmjs.org/regjsparser/download/regjsparser-0.1.5.tgz",
           "integrity": "sha1-fuj4Tcb6eS0/0K4ijSS9lJ6tIFw=",
-          "dev": true,
           "requires": {
             "jsesc": "~0.5.0"
           }
@@ -3461,7 +3419,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-exponentiation-operator/download/babel-plugin-transform-exponentiation-operator-6.24.1.tgz",
       "integrity": "sha1-KrDJx/MJj6SJB3cruBP+QejeOg4=",
-      "dev": true,
       "requires": {
         "babel-helper-builder-binary-assignment-operator-visitor": "^6.24.1",
         "babel-plugin-syntax-exponentiation-operator": "^6.8.0",
@@ -3472,7 +3429,6 @@
       "version": "6.26.0",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-regenerator/download/babel-plugin-transform-regenerator-6.26.0.tgz",
       "integrity": "sha1-4HA2lvveJ/Cj78rPi03KL3s6jy8=",
-      "dev": true,
       "requires": {
         "regenerator-transform": "^0.10.0"
       },
@@ -3481,7 +3437,6 @@
           "version": "0.10.1",
           "resolved": "http://r.cnpmjs.org/regenerator-transform/download/regenerator-transform-0.10.1.tgz",
           "integrity": "sha1-HkmWg3Ix2ot/PPQRTXG1aRoGgN0=",
-          "dev": true,
           "requires": {
             "babel-runtime": "^6.18.0",
             "babel-types": "^6.19.0",
@@ -3494,7 +3449,6 @@
       "version": "6.24.1",
       "resolved": "http://r.cnpmjs.org/babel-plugin-transform-strict-mode/download/babel-plugin-transform-strict-mode-6.24.1.tgz",
       "integrity": "sha1-1fr3qleKZbvlkc9e2uBKDGcCB1g=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.22.0",
         "babel-types": "^6.24.1"
@@ -3523,7 +3477,6 @@
       "version": "1.7.0",
       "resolved": "http://r.cnpmjs.org/babel-preset-env/download/babel-preset-env-1.7.0.tgz",
       "integrity": "sha1-3qefpOvriDzTXasH4mDBycBN93o=",
-      "dev": true,
       "requires": {
         "babel-plugin-check-es2015-constants": "^6.22.0",
         "babel-plugin-syntax-trailing-function-commas": "^6.22.0",
@@ -3561,7 +3514,6 @@
           "version": "3.2.8",
           "resolved": "http://r.cnpmjs.org/browserslist/download/browserslist-3.2.8.tgz",
           "integrity": "sha1-sABTYdZHHw9ZUnl6dvyYXx+Xj8Y=",
-          "dev": true,
           "requires": {
             "caniuse-lite": "^1.0.30000844",
             "electron-to-chromium": "^1.3.47"
@@ -3608,7 +3560,6 @@
       "version": "6.26.0",
       "resolved": "http://r.cnpmjs.org/babel-template/download/babel-template-6.26.0.tgz",
       "integrity": "sha1-3gPi0WOWsGn0bdn/+FIfsaDjXgI=",
-      "dev": true,
       "requires": {
         "babel-runtime": "^6.26.0",
         "babel-traverse": "^6.26.0",
@@ -3975,6 +3926,11 @@
         "node-releases": "^1.1.29"
       }
     },
+    "bson": {
+      "version": "1.1.1",
+      "resolved": "http://r.cnpmjs.org/bson/download/bson-1.1.1.tgz",
+      "integrity": "sha1-QzD16ZEExOdR5zUYWeLUCCefLxM="
+    },
     "buffer": {
       "version": "4.9.1",
       "resolved": "http://r.cnpmjs.org/buffer/download/buffer-4.9.1.tgz",
@@ -4412,11 +4368,35 @@
         "shallow-clone": "^3.0.0"
       }
     },
+    "cluster-key-slot": {
+      "version": "1.1.0",
+      "resolved": "http://r.cnpmjs.org/cluster-key-slot/download/cluster-key-slot-1.1.0.tgz",
+      "integrity": "sha1-MEdLKpgfsSFyaVgzBSvA0BM20Q0="
+    },
     "co": {
       "version": "4.6.0",
       "resolved": "http://r.cnpmjs.org/co/download/co-4.6.0.tgz",
       "integrity": "sha1-bqa989hTrlTMuOR7+gvz+QMfsYQ="
     },
+    "co-body": {
+      "version": "6.0.0",
+      "resolved": "http://r.cnpmjs.org/co-body/download/co-body-6.0.0.tgz",
+      "integrity": "sha1-lluTN9f1ZVSAeHRx9CN2ZIIIJ+M=",
+      "requires": {
+        "inflation": "^2.0.0",
+        "qs": "^6.5.2",
+        "raw-body": "^2.3.3",
+        "type-is": "^1.6.16"
+      }
+    },
+    "co-wrap-all": {
+      "version": "1.0.0",
+      "resolved": "http://r.cnpmjs.org/co-wrap-all/download/co-wrap-all-1.0.0.tgz",
+      "integrity": "sha1-Nwrj6DM1EKU/ay9/375FaKEbfs8=",
+      "requires": {
+        "co": "^4.0.0"
+      }
+    },
     "coa": {
       "version": "2.0.2",
       "resolved": "http://r.cnpmjs.org/coa/download/coa-2.0.2.tgz",
@@ -4721,6 +4701,11 @@
       "resolved": "http://r.cnpmjs.org/copy-descriptor/download/copy-descriptor-0.1.1.tgz",
       "integrity": "sha1-Z29us8OZl8LuGsOpJP1hJHSPV40="
     },
+    "copy-to": {
+      "version": "2.0.1",
+      "resolved": "http://r.cnpmjs.org/copy-to/download/copy-to-2.0.1.tgz",
+      "integrity": "sha1-JoD7uAaKSNCGVrYJgJK9r8kG9KU="
+    },
     "core-js": {
       "version": "2.6.9",
       "resolved": "http://r.cnpmjs.org/core-js/download/core-js-2.6.9.tgz",
@@ -4758,6 +4743,11 @@
         "parse-json": "^4.0.0"
       }
     },
+    "crc": {
+      "version": "3.5.0",
+      "resolved": "http://r.cnpmjs.org/crc/download/crc-3.5.0.tgz",
+      "integrity": "sha1-mLi6fUiWZbo5efWbITgTdBAaGWQ="
+    },
     "create-ecdh": {
       "version": "4.0.3",
       "resolved": "http://r.cnpmjs.org/create-ecdh/download/create-ecdh-4.0.3.tgz",
@@ -5194,6 +5184,11 @@
       "resolved": "http://r.cnpmjs.org/delegates/download/delegates-1.0.0.tgz",
       "integrity": "sha1-hMbhWbgZBP3KWaDvRM2HDTElD5o="
     },
+    "denque": {
+      "version": "1.4.1",
+      "resolved": "http://r.cnpmjs.org/denque/download/denque-1.4.1.tgz",
+      "integrity": "sha1-Z0T/dkHBSMP4ppwwflEjXB9KN88="
+    },
     "depd": {
       "version": "1.1.2",
       "resolved": "http://r.cnpmjs.org/depd/download/depd-1.1.2.tgz",
@@ -6887,6 +6882,11 @@
       "resolved": "http://r.cnpmjs.org/infer-owner/download/infer-owner-1.0.4.tgz",
       "integrity": "sha1-xM78qo5RBRwqQLos6KPScpWvlGc="
     },
+    "inflation": {
+      "version": "2.0.0",
+      "resolved": "http://r.cnpmjs.org/inflation/download/inflation-2.0.0.tgz",
+      "integrity": "sha1-i0F+R8KPklpFEz2RTKH9OJEH8w8="
+    },
     "inflight": {
       "version": "1.0.6",
       "resolved": "http://r.cnpmjs.org/inflight/download/inflight-1.0.6.tgz",
@@ -6921,6 +6921,32 @@
       "integrity": "sha1-EEqOSqym09jNFXqO+L+rLXo//bY=",
       "dev": true
     },
+    "ioredis": {
+      "version": "4.14.1",
+      "resolved": "http://r.cnpmjs.org/ioredis/download/ioredis-4.14.1.tgz",
+      "integrity": "sha1-tz3tlfzyIPEG0zElqS72ITqjExg=",
+      "requires": {
+        "cluster-key-slot": "^1.1.0",
+        "debug": "^4.1.1",
+        "denque": "^1.1.0",
+        "lodash.defaults": "^4.2.0",
+        "lodash.flatten": "^4.4.0",
+        "redis-commands": "1.5.0",
+        "redis-errors": "^1.2.0",
+        "redis-parser": "^3.0.0",
+        "standard-as-callback": "^2.0.1"
+      },
+      "dependencies": {
+        "debug": {
+          "version": "4.1.1",
+          "resolved": "http://r.cnpmjs.org/debug/download/debug-4.1.1.tgz",
+          "integrity": "sha1-O3ImAlUQnGtYnO4FDx1RYTlmR5E=",
+          "requires": {
+            "ms": "^2.1.1"
+          }
+        }
+      }
+    },
     "ip": {
       "version": "1.1.5",
       "resolved": "http://r.cnpmjs.org/ip/download/ip-1.1.5.tgz",
@@ -7321,8 +7347,7 @@
     "json-stringify-safe": {
       "version": "5.0.1",
       "resolved": "http://r.cnpmjs.org/json-stringify-safe/download/json-stringify-safe-5.0.1.tgz",
-      "integrity": "sha1-Epai1Y/UXxmg9s4B1lcB4sc1tus=",
-      "dev": true
+      "integrity": "sha1-Epai1Y/UXxmg9s4B1lcB4sc1tus="
     },
     "json5": {
       "version": "2.1.0",
@@ -7352,6 +7377,11 @@
         "verror": "1.10.0"
       }
     },
+    "kareem": {
+      "version": "2.3.1",
+      "resolved": "http://r.cnpmjs.org/kareem/download/kareem-2.3.1.tgz",
+      "integrity": "sha1-3vEtnJQQF/q/sA+HOvlenJnhvoc="
+    },
     "keygrip": {
       "version": "1.0.3",
       "resolved": "http://r.cnpmjs.org/keygrip/download/keygrip-1.0.3.tgz",
@@ -7409,6 +7439,15 @@
         }
       }
     },
+    "koa-bodyparser": {
+      "version": "4.2.1",
+      "resolved": "http://r.cnpmjs.org/koa-bodyparser/download/koa-bodyparser-4.2.1.tgz",
+      "integrity": "sha1-TX2stebbEQZkm1ldnlzLFYtvOyk=",
+      "requires": {
+        "co-body": "^6.0.0",
+        "copy-to": "^2.0.1"
+      }
+    },
     "koa-compose": {
       "version": "4.1.0",
       "resolved": "http://r.cnpmjs.org/koa-compose/download/koa-compose-4.1.0.tgz",
@@ -7433,11 +7472,112 @@
         }
       }
     },
+    "koa-generic-session": {
+      "version": "2.0.1",
+      "resolved": "http://r.cnpmjs.org/koa-generic-session/download/koa-generic-session-2.0.1.tgz",
+      "integrity": "sha1-1r308oiy9VMGXQSaYwwox22HfM8=",
+      "requires": {
+        "copy-to": "~2.0.1",
+        "crc": "~3.5.0",
+        "debug": "~3.1.0",
+        "parseurl": "~1.3.1",
+        "uid-safe": "~2.1.4"
+      },
+      "dependencies": {
+        "debug": {
+          "version": "3.1.0",
+          "resolved": "http://r.cnpmjs.org/debug/download/debug-3.1.0.tgz",
+          "integrity": "sha1-W7WgZyYotkFJVmuhaBnmFRjGcmE=",
+          "requires": {
+            "ms": "2.0.0"
+          }
+        },
+        "ms": {
+          "version": "2.0.0",
+          "resolved": "http://r.cnpmjs.org/ms/download/ms-2.0.0.tgz",
+          "integrity": "sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g="
+        }
+      }
+    },
     "koa-is-json": {
       "version": "1.0.0",
       "resolved": "http://r.cnpmjs.org/koa-is-json/download/koa-is-json-1.0.0.tgz",
       "integrity": "sha1-JzwH7c3Ljfaiwat9We52SRRR7BQ="
     },
+    "koa-json": {
+      "version": "2.0.2",
+      "resolved": "http://r.cnpmjs.org/koa-json/download/koa-json-2.0.2.tgz",
+      "integrity": "sha1-Nq8U5uofXWRtfESihXAcb4Wk/eQ=",
+      "requires": {
+        "koa-is-json": "1",
+        "streaming-json-stringify": "3"
+      }
+    },
+    "koa-passport": {
+      "version": "4.1.3",
+      "resolved": "http://r.cnpmjs.org/koa-passport/download/koa-passport-4.1.3.tgz",
+      "integrity": "sha1-bo6qSCkEV68VOby+08Utne/AKck=",
+      "requires": {
+        "passport": "^0.4.0"
+      }
+    },
+    "koa-redis": {
+      "version": "4.0.0",
+      "resolved": "http://r.cnpmjs.org/koa-redis/download/koa-redis-4.0.0.tgz",
+      "integrity": "sha1-Vl3HABkEMpifsglspDQSQKhGmN0=",
+      "requires": {
+        "@babel/runtime": "^7.4.3",
+        "co-wrap-all": "^1.0.0",
+        "debug": "^4.1.1",
+        "ioredis": "^4.9.0"
+      },
+      "dependencies": {
+        "debug": {
+          "version": "4.1.1",
+          "resolved": "http://r.cnpmjs.org/debug/download/debug-4.1.1.tgz",
+          "integrity": "sha1-O3ImAlUQnGtYnO4FDx1RYTlmR5E=",
+          "requires": {
+            "ms": "^2.1.1"
+          }
+        }
+      }
+    },
+    "koa-router": {
+      "version": "7.4.0",
+      "resolved": "http://r.cnpmjs.org/koa-router/download/koa-router-7.4.0.tgz",
+      "integrity": "sha1-ruH3rcAtXLMdfWdGXJ6syCXoxeA=",
+      "requires": {
+        "debug": "^3.1.0",
+        "http-errors": "^1.3.1",
+        "koa-compose": "^3.0.0",
+        "methods": "^1.0.1",
+        "path-to-regexp": "^1.1.1",
+        "urijs": "^1.19.0"
+      },
+      "dependencies": {
+        "isarray": {
+          "version": "0.0.1",
+          "resolved": "http://r.cnpmjs.org/isarray/download/isarray-0.0.1.tgz",
+          "integrity": "sha1-ihis/Kmo9Bd+Cav8YDiTmwXR7t8="
+        },
+        "koa-compose": {
+          "version": "3.2.1",
+          "resolved": "http://r.cnpmjs.org/koa-compose/download/koa-compose-3.2.1.tgz",
+          "integrity": "sha1-qFzLQLfZhtjlo0Wzoazo6rz1Tec=",
+          "requires": {
+            "any-promise": "^1.1.0"
+          }
+        },
+        "path-to-regexp": {
+          "version": "1.7.0",
+          "resolved": "http://r.cnpmjs.org/path-to-regexp/download/path-to-regexp-1.7.0.tgz",
+          "integrity": "sha1-Wf3g9DW62suhA6hOnTvGTpa5k30=",
+          "requires": {
+            "isarray": "0.0.1"
+          }
+        }
+      }
+    },
     "last-call-webpack-plugin": {
       "version": "3.0.0",
       "resolved": "http://r.cnpmjs.org/last-call-webpack-plugin/download/last-call-webpack-plugin-3.0.0.tgz",
@@ -7561,6 +7701,16 @@
       "resolved": "http://r.cnpmjs.org/lodash._reinterpolate/download/lodash._reinterpolate-3.0.0.tgz",
       "integrity": "sha1-DM8tiRZq8Ds2Y8eWU4t1rG4RTZ0="
     },
+    "lodash.defaults": {
+      "version": "4.2.0",
+      "resolved": "http://r.cnpmjs.org/lodash.defaults/download/lodash.defaults-4.2.0.tgz",
+      "integrity": "sha1-0JF4cW/+pN3p5ft7N/bwgCJ0WAw="
+    },
+    "lodash.flatten": {
+      "version": "4.4.0",
+      "resolved": "http://r.cnpmjs.org/lodash.flatten/download/lodash.flatten-4.4.0.tgz",
+      "integrity": "sha1-8xwiIlqWMtK7+OSt2+8kCqdlph8="
+    },
     "lodash.kebabcase": {
       "version": "4.1.1",
       "resolved": "http://r.cnpmjs.org/lodash.kebabcase/download/lodash.kebabcase-4.1.1.tgz",
@@ -7897,6 +8047,39 @@
         }
       }
     },
+    "mongodb": {
+      "version": "3.3.2",
+      "resolved": "http://r.cnpmjs.org/mongodb/download/mongodb-3.3.2.tgz",
+      "integrity": "sha1-/whrX1Us8H4kzgmGlCEPPULWaLI=",
+      "requires": {
+        "bson": "^1.1.1",
+        "require_optional": "^1.0.1",
+        "safe-buffer": "^5.1.2"
+      }
+    },
+    "mongoose": {
+      "version": "5.7.3",
+      "resolved": "http://r.cnpmjs.org/mongoose/download/mongoose-5.7.3.tgz",
+      "integrity": "sha1-i9RrVh6u0aTUps3YHVsjwuMNqEY=",
+      "requires": {
+        "bson": "~1.1.1",
+        "kareem": "2.3.1",
+        "mongodb": "3.3.2",
+        "mongoose-legacy-pluralize": "1.0.2",
+        "mpath": "0.6.0",
+        "mquery": "3.2.2",
+        "ms": "2.1.2",
+        "regexp-clone": "1.0.0",
+        "safe-buffer": "5.1.2",
+        "sift": "7.0.1",
+        "sliced": "1.0.1"
+      }
+    },
+    "mongoose-legacy-pluralize": {
+      "version": "1.0.2",
+      "resolved": "http://r.cnpmjs.org/mongoose-legacy-pluralize/download/mongoose-legacy-pluralize-1.0.2.tgz",
+      "integrity": "sha1-O6n5H6UHtRhtOZ+0CFS/8Y+1Y+Q="
+    },
     "move-concurrently": {
       "version": "1.0.1",
       "resolved": "http://r.cnpmjs.org/move-concurrently/download/move-concurrently-1.0.1.tgz",
@@ -7910,6 +8093,43 @@
         "run-queue": "^1.0.3"
       }
     },
+    "mpath": {
+      "version": "0.6.0",
+      "resolved": "http://r.cnpmjs.org/mpath/download/mpath-0.6.0.tgz",
+      "integrity": "sha1-qpIgKfyk8PZB82DnTFwbakxHB44="
+    },
+    "mquery": {
+      "version": "3.2.2",
+      "resolved": "http://r.cnpmjs.org/mquery/download/mquery-3.2.2.tgz",
+      "integrity": "sha1-4Tg6OVGFLOI+N/YZqbNQ8fs2ZOc=",
+      "requires": {
+        "bluebird": "3.5.1",
+        "debug": "3.1.0",
+        "regexp-clone": "^1.0.0",
+        "safe-buffer": "5.1.2",
+        "sliced": "1.0.1"
+      },
+      "dependencies": {
+        "bluebird": {
+          "version": "3.5.1",
+          "resolved": "http://r.cnpmjs.org/bluebird/download/bluebird-3.5.1.tgz",
+          "integrity": "sha1-2VUfnemPH82h5oPRfukaBgLuLrk="
+        },
+        "debug": {
+          "version": "3.1.0",
+          "resolved": "http://r.cnpmjs.org/debug/download/debug-3.1.0.tgz",
+          "integrity": "sha1-W7WgZyYotkFJVmuhaBnmFRjGcmE=",
+          "requires": {
+            "ms": "2.0.0"
+          }
+        },
+        "ms": {
+          "version": "2.0.0",
+          "resolved": "http://r.cnpmjs.org/ms/download/ms-2.0.0.tgz",
+          "integrity": "sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g="
+        }
+      }
+    },
     "ms": {
       "version": "2.1.2",
       "resolved": "http://r.cnpmjs.org/ms/download/ms-2.1.2.tgz",
@@ -8187,6 +8407,11 @@
         }
       }
     },
+    "nodemailer": {
+      "version": "6.3.0",
+      "resolved": "http://r.cnpmjs.org/nodemailer/download/nodemailer-6.3.0.tgz",
+      "integrity": "sha1-qJsMYtOTe9ze7L9VaHvXkRtifhI="
+    },
     "nodemon": {
       "version": "1.19.3",
       "resolved": "http://r.cnpmjs.org/nodemon/download/nodemon-1.19.3.tgz",
@@ -9299,6 +9524,28 @@
       "resolved": "http://r.cnpmjs.org/pascalcase/download/pascalcase-0.1.1.tgz",
       "integrity": "sha1-s2PlXoAGym/iF4TS2yK9FdeRfxQ="
     },
+    "passport": {
+      "version": "0.4.0",
+      "resolved": "http://r.cnpmjs.org/passport/download/passport-0.4.0.tgz",
+      "integrity": "sha1-xQlWkTR71a07XhgCOMORTRbwWBE=",
+      "requires": {
+        "passport-strategy": "1.x.x",
+        "pause": "0.0.1"
+      }
+    },
+    "passport-local": {
+      "version": "1.0.0",
+      "resolved": "http://r.cnpmjs.org/passport-local/download/passport-local-1.0.0.tgz",
+      "integrity": "sha1-H+YyaMkudWBmJkN+O5BmYsFbpu4=",
+      "requires": {
+        "passport-strategy": "1.x.x"
+      }
+    },
+    "passport-strategy": {
+      "version": "1.0.0",
+      "resolved": "http://r.cnpmjs.org/passport-strategy/download/passport-strategy-1.0.0.tgz",
+      "integrity": "sha1-tVOaqPwiWj0a0XlHbd8ja0QPUuQ="
+    },
     "path-browserify": {
       "version": "0.0.1",
       "resolved": "http://r.cnpmjs.org/path-browserify/download/path-browserify-0.0.1.tgz",
@@ -9359,6 +9606,11 @@
         }
       }
     },
+    "pause": {
+      "version": "0.0.1",
+      "resolved": "http://r.cnpmjs.org/pause/download/pause-0.0.1.tgz",
+      "integrity": "sha1-HUCLP9t2kjuVQ9lvtMnf1TXZy10="
+    },
     "pbkdf2": {
       "version": "3.0.17",
       "resolved": "http://r.cnpmjs.org/pbkdf2/download/pbkdf2-3.0.17.tgz",
@@ -10558,6 +10810,11 @@
       "resolved": "http://r.cnpmjs.org/querystring-es3/download/querystring-es3-0.2.1.tgz",
       "integrity": "sha1-nsYfeQSYdXB9aUFFlv2Qek1xHnM="
     },
+    "random-bytes": {
+      "version": "1.0.0",
+      "resolved": "http://r.cnpmjs.org/random-bytes/download/random-bytes-1.0.0.tgz",
+      "integrity": "sha1-T2ih3Arli9P7lYSMMDJNt11kNgs="
+    },
     "randomatic": {
       "version": "3.1.1",
       "resolved": "http://r.cnpmjs.org/randomatic/download/randomatic-3.1.1.tgz",
@@ -10733,6 +10990,24 @@
         "strip-indent": "^1.0.1"
       }
     },
+    "redis-commands": {
+      "version": "1.5.0",
+      "resolved": "http://r.cnpmjs.org/redis-commands/download/redis-commands-1.5.0.tgz",
+      "integrity": "sha1-gNLiBpj+aI8icSf/nlFkp90X54U="
+    },
+    "redis-errors": {
+      "version": "1.2.0",
+      "resolved": "http://r.cnpmjs.org/redis-errors/download/redis-errors-1.2.0.tgz",
+      "integrity": "sha1-62LSrbFeTq9GEMBK/hUpOEJQq60="
+    },
+    "redis-parser": {
+      "version": "3.0.0",
+      "resolved": "http://r.cnpmjs.org/redis-parser/download/redis-parser-3.0.0.tgz",
+      "integrity": "sha1-tm2CjNyv5rS4pCin3vTGvKwxyLQ=",
+      "requires": {
+        "redis-errors": "^1.0.0"
+      }
+    },
     "regenerate": {
       "version": "1.4.0",
       "resolved": "http://r.cnpmjs.org/regenerate/download/regenerate-1.4.0.tgz",
@@ -10778,6 +11053,11 @@
         "safe-regex": "^1.1.0"
       }
     },
+    "regexp-clone": {
+      "version": "1.0.0",
+      "resolved": "http://r.cnpmjs.org/regexp-clone/download/regexp-clone-1.0.0.tgz",
+      "integrity": "sha1-Ii25Z2IydwViYLmSYmNUoEzpv2M="
+    },
     "regexpu-core": {
       "version": "4.6.0",
       "resolved": "http://r.cnpmjs.org/regexpu-core/download/regexpu-core-4.6.0.tgz",
@@ -10954,6 +11234,22 @@
       "integrity": "sha1-l/cXtp1IeE9fUmpsWqj/3aBVpNE=",
       "dev": true
     },
+    "require_optional": {
+      "version": "1.0.1",
+      "resolved": "http://r.cnpmjs.org/require_optional/download/require_optional-1.0.1.tgz",
+      "integrity": "sha1-TPNaQkf2TKPfjC7yCMxJSxyo/C4=",
+      "requires": {
+        "resolve-from": "^2.0.0",
+        "semver": "^5.1.0"
+      },
+      "dependencies": {
+        "resolve-from": {
+          "version": "2.0.0",
+          "resolved": "http://r.cnpmjs.org/resolve-from/download/resolve-from-2.0.0.tgz",
+          "integrity": "sha1-lICrIOlP+h2egKgEx+oUdhGWa1c="
+        }
+      }
+    },
     "requires-port": {
       "version": "1.0.0",
       "resolved": "http://r.cnpmjs.org/requires-port/download/requires-port-1.0.0.tgz",
@@ -11281,6 +11577,11 @@
       "resolved": "http://r.cnpmjs.org/shell-quote/download/shell-quote-1.7.2.tgz",
       "integrity": "sha1-Z6fQLHbJ2iT5nSCAj8re0ODgS+I="
     },
+    "sift": {
+      "version": "7.0.1",
+      "resolved": "http://r.cnpmjs.org/sift/download/sift-7.0.1.tgz",
+      "integrity": "sha1-R9YsULFZ0xbxNy+LU/nBDNIaSwg="
+    },
     "signal-exit": {
       "version": "3.0.2",
       "resolved": "http://r.cnpmjs.org/signal-exit/download/signal-exit-3.0.2.tgz",
@@ -11307,6 +11608,11 @@
       "integrity": "sha1-xB8vbDn8FtHNF61LXYlhFK5HDVU=",
       "dev": true
     },
+    "sliced": {
+      "version": "1.0.1",
+      "resolved": "http://r.cnpmjs.org/sliced/download/sliced-1.0.1.tgz",
+      "integrity": "sha1-CzpmK10Ewxd7GSa+qCsD+Dei70E="
+    },
     "snapdragon": {
       "version": "0.8.2",
       "resolved": "http://r.cnpmjs.org/snapdragon/download/snapdragon-0.8.2.tgz",
@@ -11553,6 +11859,11 @@
       "resolved": "http://r.cnpmjs.org/stackframe/download/stackframe-1.1.0.tgz",
       "integrity": "sha1-4/wuuRIllHnJgi99Hx/zZb1cvIM="
     },
+    "standard-as-callback": {
+      "version": "2.0.1",
+      "resolved": "http://r.cnpmjs.org/standard-as-callback/download/standard-as-callback-2.0.1.tgz",
+      "integrity": "sha1-7YuyVkjhWDF1m2Ajvbh+a2CzgSY="
+    },
     "static-extend": {
       "version": "0.1.2",
       "resolved": "http://r.cnpmjs.org/static-extend/download/static-extend-0.1.2.tgz",
@@ -11703,6 +12014,39 @@
       "resolved": "http://r.cnpmjs.org/stream-shift/download/stream-shift-1.0.0.tgz",
       "integrity": "sha1-1cdSgl5TZ+eG944Y5EXqIjoVWVI="
     },
+    "streaming-json-stringify": {
+      "version": "3.1.0",
+      "resolved": "http://r.cnpmjs.org/streaming-json-stringify/download/streaming-json-stringify-3.1.0.tgz",
+      "integrity": "sha1-gCAEN6mTzDnE/gAmO3s7kDrIevU=",
+      "requires": {
+        "json-stringify-safe": "5",
+        "readable-stream": "2"
+      },
+      "dependencies": {
+        "readable-stream": {
+          "version": "2.3.6",
+          "resolved": "http://r.cnpmjs.org/readable-stream/download/readable-stream-2.3.6.tgz",
+          "integrity": "sha1-sRwn2IuP8fvgcGQ8+UsMea4bCq8=",
+          "requires": {
+            "core-util-is": "~1.0.0",
+            "inherits": "~2.0.3",
+            "isarray": "~1.0.0",
+            "process-nextick-args": "~2.0.0",
+            "safe-buffer": "~5.1.1",
+            "string_decoder": "~1.1.1",
+            "util-deprecate": "~1.0.1"
+          }
+        },
+        "string_decoder": {
+          "version": "1.1.1",
+          "resolved": "http://r.cnpmjs.org/string_decoder/download/string_decoder-1.1.1.tgz",
+          "integrity": "sha1-nPFhG6YmhdcDCunkujQUnDrwP8g=",
+          "requires": {
+            "safe-buffer": "~5.1.0"
+          }
+        }
+      }
+    },
     "strict-uri-encode": {
       "version": "1.1.0",
       "resolved": "http://r.cnpmjs.org/strict-uri-encode/download/strict-uri-encode-1.1.0.tgz",
@@ -12197,6 +12541,14 @@
         }
       }
     },
+    "uid-safe": {
+      "version": "2.1.5",
+      "resolved": "http://r.cnpmjs.org/uid-safe/download/uid-safe-2.1.5.tgz",
+      "integrity": "sha1-Kz1cckDo/C5Y+Komnl7knAhXvTo=",
+      "requires": {
+        "random-bytes": "~1.0.0"
+      }
+    },
     "undefsafe": {
       "version": "2.0.2",
       "resolved": "http://r.cnpmjs.org/undefsafe/download/undefsafe-2.0.2.tgz",
@@ -12541,6 +12893,11 @@
         "punycode": "^2.1.0"
       }
     },
+    "urijs": {
+      "version": "1.19.1",
+      "resolved": "http://r.cnpmjs.org/urijs/download/urijs-1.19.1.tgz",
+      "integrity": "sha1-Ww/1MMDL3oOG9jQiNbpcpumV0lo="
+    },
     "urix": {
       "version": "0.1.0",
       "resolved": "http://r.cnpmjs.org/urix/download/urix-0.1.0.tgz",
Index: pages/register.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- pages/register.vue	(revision 491af66478a859523891ea57dead7cebe29ac166)
+++ pages/register.vue	(date 1570161665000)
@@ -41,57 +41,94 @@
 </template>
 
 <script>
-export default {
-  data() {
-    return {
-      statusMsg: '',
-      error: '',
-      ruleForm: {
-        name: '',
-        code: '',
-        pwd: '',
-        cpwd: '',
-        email: ''
-      },
-      rules: {
-        name: [{
-          required: true, type: 'string', message: '请输入昵称', trigger: 'blur'
-        }],
-        email: [{
-          required: true, type: 'email', message: '请输入邮箱', trigger: 'blur'
-        }],
-        pwd: [{
-          required: true, message: '创建密码', trigger: 'blur'
-        }],
-        cpwd: [{
-          required: true, message: '确认密码', trigger: 'blur'
-        }, {
-          validator: (rule, value, callback) => {
-            if (value === '') {
-              callback(new Error('请再次输入密码'))
-            } else if (value !== this.ruleForm.pwd) {
-              callback(new Error('两次密码输入不一致'))
-            } else {
-              callback()
-            }
-          },
-          trigger: 'blur'
-        }]
-      }
-    }
-  },
-  layout: 'blank',
-  methods: {
-    sendMsg: function () {
-
-    },
-    register: function () {
+  export default {
+    data() {
+      return {
+        statusMsg: '',
+        error: '',
+        ruleForm: {
+          name: '',
+          code: '',
+          pwd: '',
+          cpwd: '',
+          email: ''
+        },
+        rules: {
+          name: [{
+            required: true, type: 'string', message: '请输入昵称', trigger: 'blur'
+          }],
+          email: [{
+            required: true, type: 'email', message: '请输入邮箱', trigger: 'blur'
+          }],
+          pwd: [{
+            required: true, message: '创建密码', trigger: 'blur'
+          }],
+          cpwd: [{
+            required: true, message: '确认密码', trigger: 'blur'
+          }, {
+            validator: (rule, value, callback) => {
+              if (value === '') {
+                callback(new Error('请再次输入密码'))
+              } else if (value !== this.ruleForm.pwd) {
+                callback(new Error('两次密码输入不一致'))
+              } else {
+                callback()
+              }
+            },
+            trigger: 'blur'
+          }]
+        }
+      }
+    },
+    layout: 'blank',
+    methods: {
+      sendMsg: function () {
+        const self = this;
+        let namePass
+        let emailPass
+        if (self.timerid) {
+          return false
+        }
+        this.$refs['ruleForm'].validateField('name', (valid) => {
+          namePass = valid
+        })
+        self.statusMsg = ''
+        if (namePass) {
+          return false
+        }
+        this.$refs['ruleForm'].validateField('email', (valid) => {
+          emailPass = valid
+        })
+        if (!namePass && !emailPass) {
+          self.$axios.post('/users/verify', {
+            username: encodeURIComponent(self.ruleForm.name),
+            email: self.ruleForm.email
+          }).then(({
+                     status,
+                     data
+                   }) => {
+            if (status === 200 && data & data.code === 0) {
+              let count = 60;
+              self.statusMsg = `验证码已经发送，请注意查收，剩余${count--}秒`
+              self.timerid = setInterval(function () {
+                self.statusMsg = `验证码已经发送，请注意查收，剩余${count--}秒`
+                if (count === 0) {
+                  clearInterval(self.timerid)
+                }
+              }, 1000)
+            } else {
+              self.statusMsg = data.msg
+            }
+          })
+        }
+      },
+      register: function () {
 
-    }
-  }
-}
+      }
+    }
+  }
 </script>
 
 <style lang="scss">
-  @import "@/assets/css/register/index.scss";
+  @import "../assets/css/register/index.scss";
 </style>
Index: .babelrc
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .babelrc	(date 1570158947000)
+++ .babelrc	(date 1570158947000)
@@ -0,0 +1,3 @@
+{
+  "presets": ["env"]
+}
Index: server/interface/users.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- server/interface/users.js	(revision 491af66478a859523891ea57dead7cebe29ac166)
+++ server/interface/users.js	(date 1570164132000)
@@ -107,12 +107,12 @@
   })(ctx, next)
 })
 router.post('/verify', async (ctx, next) => {
-  let username = ctx.require.body.username
+  let username = ctx.request.body.username
   const saveExpire = await Store.hget(`nodemail:${username}`, 'expire')
-  if (saveExpire && new Datee().getTime() - saveExpire < 0) {
+  if (saveExpire && new Date().getTime() - saveExpire < 0) {
     ctx.body = {
       code: -1,
-      msg: '验证请求过于频繁，1分钟内一次'
+      msg: '验证请求过于频繁，1分钟后再试'
     }
     return false
   }
@@ -134,8 +134,8 @@
   let mailOptions = {
     from: `"认证邮件"<${Email.smtp.user}>`,
     to: ko.email,
-    subject: '实战注册码',
-    html: '您在实战中注册，注册码是${ko.code}'
+    subject: '高仿MT实战验证码',
+    html: `您在高仿MT实战中注册，验证码是${ko.code}`
   }
   await transporter.sendMail(mailOptions, (error, info) => {
     if (error) {
Index: server/dbs/config.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- server/dbs/config.js	(revision 491af66478a859523891ea57dead7cebe29ac166)
+++ server/dbs/config.js	(date 1570163737000)
@@ -12,21 +12,21 @@
     get host() {
       return 'smtp.qq.com'
     },
-    get user(){
+    get user() {
       return '820563721@qq.com'
     },
-    get pass(){
+    get pass() {
       return 'ngfdumvnrycabfdg'
-    }
-  },
-  get code(){
-    return()=>{
-      return Math.random().toString(16).slice(2,6).toUpperCase()
-    }
-  },
-  get expire(){
-    return ()=>{
-      return new Date().getTime()+60*60*1000
+    },
+    get code() {
+      return () => {
+        return Math.random().toString(16).slice(2, 6).toUpperCase()
+      }
+    },
+    get expire() {
+      return () => {
+        return new Date().getTime() + 60 * 60 * 1
+      }
     }
   }
 }
